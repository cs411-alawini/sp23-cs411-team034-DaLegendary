"use strict";
var WrappedTask = function () {
};

WrappedTask.prototype.createTaskFunc = function (runner) {
	var self = this;
	return function () {
		var args = runner.getArgs(arguments);
		var cb = runner.getCb(arguments);

		var ctx = {};
		var cbCtx = cb.ctx;
		if (cbCtx != null) {
			for (var k in cbCtx) {
				ctx[k] = cbCtx[k];
			}
		}
		ctx.task = this;
		ctx.args = args;

		self.run(runner, ctx, cb);
	};
};

WrappedTask.prototype.run = function (runner, ctx, cb) {
	throw new Error('Abstract method call');
};


module.exports = WrappedTask;
